{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
{namespace m=TYPO3\Media\ViewHelpers}
{namespace w=Sfi\Widgets\ViewHelpers}

<div class="row">
	<div class="columns">
		<div class="NewsDetail">
			<div class="NewsDetail-Article NewsDetail-Article--Soft">

				<div class="Article">
					<neos:contentElement.wrap node="{node}">
						<h1 class="Article-Title">{neos:contentElement.editable(property: 'title')}</h1>
						<div class="Article-Teaser">{neos:contentElement.editable(property: 'teaser')}</div>
						<div class="row">
							<div class="medium-10 large-8 medium-offset-1 large-offset-2 columns">
								<div class="Article-Lead">{neos:contentElement.editable(property: 'lead')}</div>
							</div>
						</div>
						<div class="row">
							<div class="large-10 large-offset-1 columns">
								<div class="Article-Bar overflow-hidden">
									<div class="Article-Date float-left">
										<w:date format="{configuration.dateFormat}">{date}</w:date>
									</div>
									<div class="Article-Author float-right">
										<f:security.ifAccess resource="TYPO3_Neos_Backend_GeneralAccess">
											<f:if condition="{node.context.workspace.name} != 'live'">
												<f:then>
													<span class="Article-AuthorLabel">Автор: </span> <span class="Article-AuthorName">{neos:contentElement.editable(property: 'author')}</span>
													<span class="Article-AuthorLabel">Фото: </span> <span class="Article-AuthorName">{neos:contentElement.editable(property: 'authorPhoto')}</span>
												</f:then>
												<f:else>
													<f:if condition="{author}">
														<span class="Article-AuthorLabel">Автор: </span> <span class="Article-AuthorName">{neos:contentElement.editable(property: 'author')}</span>
													</f:if>
													<f:if condition="{authorPhoto}">
														<span class="Article-AuthorLabel">Фото: </span> <span class="Article-AuthorName">{neos:contentElement.editable(property: 'authorPhoto')}</span>
													</f:if>
												</f:else>
											</f:if>
										</f:security.ifAccess>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="large-10 large-offset-1 columns">
								<div class="Article-CoverPhoto">{coverPhoto -> f:format.raw()}</div>
							</div>
						</div>
						<div class="row">
							<div class="large-8 large-offset-2 columns">
								<div class="Article-Content StyleSet-ModernGrand">{main -> f:format.raw()}</div>
							</div>
						</div>
						<div class="row">
							<div class="columns">
								<div class="Article-Gallery">{gallery -> f:format.raw()}</div>
							</div>
						</div>
					</neos:contentElement.wrap>
				</div>

			</div>
			<div class="NewsDetail-MoreNews">
				{moreNews -> f:format.raw()}
			</div>
		</div>	
	</div>
</div>