{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace typo3cr=TYPO3\TYPO3CR\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
<f:if condition="{newsCollection}">
	<f:if condition="{wrapClass}">
		<!-- TODO: Remove this rubish -->
		<div class="{wrapClass}">
	</f:if>
	        
		<f:if condition="{listTitle}">
			<div class="row">
				<div class="columns">
					<h2 class="SectionDivider--Service">{listTitle}</h2>
				</div>
			</div>
		</f:if>
		<f:if condition="{configuration.pagination}">
		    <f:then>
				<typo3cr:widget.paginate nodes="{newsCollection}" as="paginatedNewsItems" widgetId="{node.name}" configuration="{configuration.pagination}">
					<div{attributes -> f:format.raw()} >
						<f:for each="{paginatedNewsItems}" as="news">
							<ts:render path="itemRenderer" context="{node: news, inputConfiguration: configuration}" />
						</f:for>
					</div>
				</typo3cr:widget.paginate>
		    </f:then>
		    <f:else>
		        <div{attributes -> f:format.raw()}>
					<f:for each="{newsCollection}" as="news">
						<ts:render path="itemRenderer" context="{node: news, inputConfiguration: configuration}" />
					</f:for>
				</div>
		    </f:else>
		</f:if>
		<f:if condition="{configuration.archiveLink}">
			<div class="row">
				<div class="columns">
					<neos:link.node node="{configuration.archiveLink}" class="ButtonInline right">Еще новости</neos:link.node>
				</div>
			</div>
		</f:if>
	<f:if condition="{wrapClass}">
		</div>
	</f:if>
</f:if>