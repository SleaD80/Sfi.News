{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace typo3cr=TYPO3\TYPO3CR\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
<f:if condition="{newsCollection}">
	<f:if condition="{listTitle}">
		<h2 class="SectionDivider--Service">{listTitle}</h2>
	</f:if>
	<f:if condition="{configuration.pagination}">
	    <f:then>
			<typo3cr:widget.paginate nodes="{newsCollection}" as="paginatedNewsItems" widgetId="{node.name}" configuration="{configuration.pagination}">
				<ul{attributes -> f:format.raw()} >
					<f:for each="{paginatedNewsItems}" as="news">
						<ts:render path="itemRenderer" context="{node: news, inputConfiguration: configuration}" />
					</f:for>
				</ul>
			</typo3cr:widget.paginate>
	    </f:then>
	    <f:else>
	        <ul{attributes -> f:format.raw()} >
				<f:for each="{newsCollection}" as="news">
					<ts:render path="itemRenderer" context="{node: news, inputConfiguration: configuration}" />
				</f:for>
			</ul>
	    </f:else>
	</f:if>
	<f:if condition="{configuration.archiveLink}">
		<neos:link.node node="{configuration.archiveLink}" class="Button">Еще новости</neos:link.node>
	</f:if>
</f:if>